<stache
  pageTitle="Code block"
  navTitle="Code block">

  <stache-page-summary>
    <p>
      <a href="https://developer.blackbaud.com/skyux2/components/repeater"><img src="https://img.shields.io/badge/SKY%20UX-component-brightgreen.svg"></a>
    </p>
    <sky-alert alertType="warning">
      The <stache-code>stache-code-block</stache-code> component is <strong>deprecated</strong> as of Stache v2.15.0 and may be unavailable in Stache v3.0.0.
    </sky-alert>
    <p>
      The code block component enables you to format a block of text as a code snippet with syntax highlighting. To create a code snippet, wrap <stache-code>sky-code-block</stache-code> tags around the code block. The code block also has a header that displays a copy button and, if defined, the language type. To format shorter code snippets within larger blocks of text, we recommend you use the <a routerLink="/content/code">code component</a> instead.
    </p>

    <p>
      If a code block has text within <stache-code><</stache-code> and <stache-code>></stache-code> characters, then the component automatically appends a closing tag unless the code snippet is valid HTML. To prevent this, you must use "&#38;lt;" to escape <stache-code><</stache-code> and "&#38;gt;" to escape <stache-code>></stache-code>. For example, you must escape the <stache-code><</stache-code> and <stache-code>></stache-code> characters in the code snippet <stache-code escapeCharacters="true">public Task&lt;Generic&gt; MethodName()</stache-code> or else the component automatically appends <stache-code>&lt;/Generic&gt;</stache-code> to the end: <stache-code escapeCharacters="true">public Task<Generic> MethodName()</stache-code>.
    </p>
  </stache-page-summary>

  <h3>
    Code block properties
  </h3>

  <ul>
    <li>
      <stache-code>code</stache-code> — <i>(Optional)</i> Passes a code sample into the component. This property binds data, so you can use brackets to evaluate the template expression: <stache-code>[code]</stache-code>. Without the brackets, Angular treats the value as a string and initializes the target property with the string value instead of evaluating the data value.
    </li>
    <li>
      <stache-code>hideCopyToClipboard</stache-code> — <i>(Optional)</i> Indicates whether to hide the copy-to-clipboard button in the code-block header. The default is false.
    </li>
    <li>
      <stache-code>languageType</stache-code> — <i>(Optional)</i> Indicates the language of the code sample. The language type is used to highlight the syntax in your code sample and appears in the header. The default language is <stache-code>markup</stache-code>.
    </li>
  </ul>

  <h3>
    Supported languages
  </h3>
  <p>
    Using the list below, see if your code snippet language is supported. The languages supported appear in pairs. The first part lists the language and the second part displays the text you use for the <stache-code>languageType</stache-code> property. For example, if your code block is a JavaScript code snippet, use <stache-code>languageType="javascript"</stache-code>.
  </p>

  <language-type-list>
  </language-type-list>

  <sky-repeater expandMode="single">
    <sky-repeater-item [isExpanded]="false">
      <sky-repeater-item-title>
        <h3>
          Adding the Module for non-Stache SPAs
        </h3>
      </sky-repeater-item-title>
      <sky-repeater-item-content>
        <p>
          If your SPA uses Stache version 2.15.0 or higher this module is installed and added for you. To use this module without Stache users need to declare it as a dependency of their project.
        </p>
        <ul>
          <li>
            <p>
              Install the package as part of your SPAs dependencies.
            </p>
            <sky-code-block>
              npm install @blackbaud/skyux-lib-code-block --save
            </sky-code-block>
          </li>
          <li>
            <p>
              Add the module to your <strong>app-extras.module.ts</strong> file.
            </p>
            <sky-code-block hideCopyToClipboard="true">
                import { SkyCodeBlockModule } from '@blackbaud/skyux-lib-code-block';

                @NgModule({
                  imports: [
                    SkyCodeBlockModule
                  ],
                  exports: [
                    SkyCodeBlockModule
                  ],
                  providers: [
                  ],
                  entryComponents: []
                })
                export class AppExtrasModule { }
            </sky-code-block>
          </li>
          <li>
            <p>
              Add the plugin to your <strong>skyuxconfig.json</strong> file.
            </p>
            <sky-code-block>
              {
                "name": "stache",
                "mode": "easy",
                "compileMode": "aot",
                "plugins": [
                  "@blackbaud/skyux-builder-plugin-code-block"
                ],
              }
            </sky-code-block>
          </li>
        </ul>
      </sky-repeater-item-content>
    </sky-repeater-item>
  </sky-repeater>
  <stache-page-anchor>
    Demo
  </stache-page-anchor>

  <div class="stache-demo-page-result">
    <sky-code-block
      languageType="javascript">
      $(document).ready(() => {
        console.log('jQuery is ready!');
      });
    </sky-code-block>
  </div>

  <stache-page-anchor>
    Code
  </stache-page-anchor>

  <div class="stache-demo-code">
    <sky-tabset>
      <sky-tab
        tabHeading="sample">
        <sky-code-block
          languageType="javascript">
          <sky-code-block
            languageType="javascript">
            $(document).ready(() => {
              console.log('jQuery is ready!');
            });
          </sky-code-block>
        </sky-code-block>
      </sky-tab>
      <sky-tab
        tabHeading="deprecated sample">
        <stache-code-block
          languageType="javascript">
          <stache-code-block
            languageType="javascript">
            $(document).ready(() => {
              console.log('jQuery is ready!');
            });
          </stache-code-block>
        </stache-code-block>
      </sky-tab>
    </sky-tabset>
  </div>
</stache>
