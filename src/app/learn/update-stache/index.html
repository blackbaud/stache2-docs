<stache
  pageTitle="Update Stache"
  navTitle="Update Stache"
  navOrder="40"
  layout="sidebar"
  showTableOfContents="true">



<stache-page-anchor>
  Update to latest version
</stache-page-anchor>

<p >
  When you want to add the newest features to your Stache SPA<span *skyRestrictedView> (after you  migrate to version 3.0.0)</span>, use these instructions for how to update your SPA to the latest versions.
</p>
<p>
  If you haven't updated your SPA in a while, we recommend you first run the following commands. You only need to run Builder and Core JS commands once. Updating SKY UX CLI from time to time can be helpful.
</p>
<h3>
  Run the Builder command
</h3>
<p>You only need to run this command once per SPA.</p>
<sky-code-block>
  npm i --save-dev --save-exact @skyux-sdk/builder@latest
</sky-code-block>

<h3>
  Run the Core JS command
</h3>
<p>You only need to run this command once per SPA.</p>
<sky-code-block>
  npm i --save-dev --save-exact core-js@2.6.9
</sky-code-block>

<h3>
  Update the SKY UX CLI
</h3>
<sky-code-block>
  npm i -g @skyux-sdk/cli@latest
</sky-code-block>

  <h3>
    Install SKY UX Builder migration plugin
  </h3>

  <sky-code-block>
    npm i -g @skyux-sdk/builder-plugin-migrate
  </sky-code-block>

  <h3>
    Run the upgrade command
  </h3>

  <sky-code-block>
    skyux upgrade
  </sky-code-block>

  <h3>
    Update files locally with latest versions
  </h3>

  <sky-code-block>
    skyux install
  </sky-code-block>

  <div *skyRestrictedView>
    <stache-page-anchor>
      Stache and SKY UX 3 migration
    </stache-page-anchor>
    <p>
      Good news! Your Stache site will be migrated for you via a pull request. However, you have a few one-time tasks to complete to prepare for the change. We also request you complete a few review tasks for the migration pull request.
    </p>

    <h3>
      One-time preparation tasks
    </h3>

    <h4>Install Node version 10 or higher</h4>

    <p>
        SKY UX 3 SPA development requires Node 10.  Ensure that Node 10 is installed, and if you use <a href="https://github.com/creationix/nvm">Node Version Manager</a> (nvm) or <a href="https://github.com/coreybutler/nvm-windows">Node Version Manager for Windows</a>, ensure Node 10 is used for your SPA by running the following command in your SPA's directory:
      </p>

      <sky-code-block>
        nvm use 10
      </sky-code-block>

      For instructions on how to update Node, see the <a stacheRouterLink="https://docs.blackbaud.com/engineering-system-docs/learn/dev-setup-engsys/nvm">Engineering System documentation</a>.

      <h4>
        Install the latest CLI
      </h4>

      <p>
        First, uninstall the current CLI.  Please note that the new CLI is backwards compatible with the old version.
      </p>

      <sky-code-block>
        npm uninstall -g @blackbaud/skyux-cli
      </sky-code-block>

      <p>
        Next, install the latest version of the SKY UX CLI:
      </p>

      <sky-code-block>
        npm i -g @skyux-sdk/cli
      </sky-code-block>

    <h3>
      SPA changes
    </h3>
    <p>
      In the update from Stache version 2.18.0 to 3.0.0, many components were deprecated and replaced by SKY equivalents. In Stache version 3.0.0 and higher, the following components were replaced for you. Review these items so you can start using the new component going forward!
    </p>
<sky-image
  caption="Let's hit the open road together!"
  imageAlt="This is an example hero."
  imageSource="~/assets/hero-sample-1.jpg">
</sky-image>
  <ul>
    <li>
      <sky-code>stache-code</sky-code> is now <sky-code>sky-code</sky-code>
    </li>
    <li>
      <sky-code>stache-code-block</sky-code> is now <sky-code>sky-code-block</sky-code>
    </li>
    <li>
      <sky-code>stache-column</sky-code> is now <sky-code>sky-column</sky-code>
    </li>
    <li>
      <sky-code>stache-copy-to-clipboard</sky-code> is now <sky-code>sky-copy-to-clipboard</sky-code>
    </li>
    <li>
      <sky-code>stache-grid</sky-code> is now <sky-code>sky-grid</sky-code>
    </li>
    <li>
      <sky-code>stache-hero</sky-code> is now <sky-code>sky-hero</sky-code>
    </li>
    <li>
      <sky-code>stache-hero-heading</sky-code> is now <sky-code>sky-hero-heading</sky-code>
    </li>
    <li>
      <sky-code>stache-hero-subheading</sky-code> is now <sky-code>sky-hero-subheading</sky-code>
    </li>
    <li>
      <sky-code>stache-image</sky-code> is now <sky-code>sky-image</sky-code>
    </li>
    <li>
      <sky-code>stache-row</sky-code> is now <sky-code>sky-row</sky-code>
    </li>
    <li>
      <sky-code>stache-video</sky-code> is now <sky-code>sky-video</sky-code>
    </li>
  </ul>

  <h3>Review the migration pull request</h3>

  <p>
    Once the pull request gets created for your SPA, we request you navigate to it and use the pull request preview link to review your site. If you notice any issues, please message us in the <a href="https://blackbaud.slack.com/messages/C1R3XB8GZ" title="Blackbaud staff only"> #stache-general</a> Slack channel.
  </p>

  <h3>
    Pull latest locally
  </h3>

  <p>
    If you work locally, you need to complete a few tasks once the migration pull request has been approved and merged to <sky-code>master</sky-code> branch. We recommend you do this immediately so you don't forget later.
  </p>
  <ul>
    <li>
      Open the SPA in VS Code. From the command prompt, run <sky-code>git checkout master</sky-code> and then <sky-code>git pull</sky-code>.
    </li>
    <li>
      Once you pull the latest, run <sky-code>skyux install</sky-code>. This deletes the <sky-code>node_modules</sky-code> folder for you and installs the latest files that enable you to serve your site locally.
    </li>
    <li>
      To test that everything installed successfully, run <sky-code>skyux serve</sky-code>.
    </li>
  </ul>
  <p>
    If you run into issues, you can review the <a stacheRouterLink="https://developer.blackbaud.com/skyux-migration-guide/">SKY UX Migration guide</a> or message us in the <a href="https://blackbaud.slack.com/messages/C1R3XB8GZ" title="Blackbaud staff only"> #stache-general</a> Slack channel.
  </p>
</div>

</stache>
