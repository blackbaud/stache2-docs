<stache
  layout="container"
  navTitle="Editing in VSTS">
  <stache-tutorial>
    <stache-tutorial-heading>
      Edit a VSTS {{ stache.jsonData.global.productNameLong }} Site in Your Browser
    </stache-tutorial-heading>
    <stache-tutorial-summary>
      <p>
        For small edits to a {{ stache.jsonData.global.productNameShort }} site, you can use VSTS to make changes without leaving the web browser.
      </p>
    </stache-tutorial-summary>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Locate the page in VSTS
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
      <ol>
        <li>
          On the {{ stache.jsonData.global.productNameShort }} site, go to the page you want to edit. The page address looks like <stache-code>https://host.nxt.blackbaud.com/&lt;repository-name&gt;/&lt;path/to/page&gt;</stache-code>. The page address helps to locate the corresponding file in VSTS.
          <stache-image class="stache-image-border" imageSource="~/assets/vsts-editor-01-address.png">
          </stache-image>
        </li>
        <li>
          Go to the <a href="https://blackbaud.visualstudio.com/Products/_git/">Code tab in VSTS</a>.
        </li>
        <li>
          Use the repository dropdown to switch to your repository. You may need to switch from <strong>Favorites</strong> to <strong>All repositories</strong> to find it. The name you saw in the address bar corresponds to a repository that starts with <stache-code>skyux-spa-</stache-code>.
          <stache-image class="stache-image-border" imageSource="~/assets/vsts-editor-02-repository.png">
          </stache-image>
        </li>
        <li>
          Browse the folder structure to locate the page. It will be in the <stache-code>src/app/path-to-page</stache-code> folder.
        </li>
      </ol>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Create a branch
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
          Each change added to a {{ stache.jsonData.global.productNameShort }} repository must first be added to its own branch. You can create one branch and commit several related changes so that they are all added to the site at the same time.
        </p>
        <ol>
          <li>
            Select the branch dropdown and then select <strong>New branch</strong>.
          </li>
          <li>
            On the Create a branch screen, enter a branch name that starts with <stache-code>feature-</stache-code>.
          </li>
          <li>
            Select the <strong>Based on</strong> field to <stache-code>master</stache-code>.
          </li>
          <li>
            Select <strong>Create branch</strong>. Your new branch appears in the branch dropdown.
          </li>
        </ol>
        <stache-image
          class="stache-image-border"
          imageSource="~/assets/vsts-editor-03-new-branch.png">
        </stache-image>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Make your changes
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
          To edit pages in the browser, select <strong>Edit</strong>. Then, to save the changes to your branch, select <strong>Commit...</strong>. You can edit one or many pages, or you can add new pages.
        </p>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Create a pull request
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
          After committing all of your edits, you need to create a pull request for your branch. When you commit a change, you'll see a message with your commit summary and a <stache-code>Create a pull request</stache-code> link. Select the link, or you can also create a pull request from the Pull Requests page.
        </p>
        <p>
          Enter a title and description for your pull request, and clear the <strong>Reviewers</strong> field. When you save your pull request, the repository's required reviewers are automatically added. After the build passes, the Project Collection Build Service account adds a comment to your pull request with a link to a site where you can preview your changes.
        </p>
        <p>
          You can make additional edits and commit them to your branch after creating your pull request. After each pull request, a build runs your changes. When it successfully completes, the Project Collection Build Service account posts a new comment with a new link that incorporates those changes. When you're happy with your changes, select  <strong>Complete</strong> or <strong>Set auto-complete</strong> to mark the pull request as ready to release. Once one of the reviewers for that repository review and approve your changes, they will be merged into the master branch and your branch will be deleted. Create a new branch and repeat this process the next time you want to edit the site.
        </p>
      </stache-tutorial-step-body>
    </stache-tutorial-step>
  </stache-tutorial>
</stache>
