<stache
  pageTitle="Migrate Stache"
  layout="sidebar"
  showTableOfContents="true"
  showInNav="false"
  *stacheInternal>

  <stache-page-summary>
    <p>
      If you have a <a href="http://stache.docs.blackbaudhosting.com/">Stache 1</a> static documentation website, you can follow these simple steps to migrate to a Stache single-page applications (SPA). Are you curious about why Stache is a great idea for you and your team? Learn more about <a routerLink="/learn/overview">Why Stache?</a>
    </p>
  </stache-page-summary>

  <stache-page-anchor>
    Overview
  </stache-page-anchor>
  <p>The basics steps of migration are pretty simple.</p>
  <ul>
    <li>
      Step 1 – Create a SKY UX SPA.
    </li>
    <li>
      Step 2 – Copy and paste content from the old site.
    </li>
    <li>
      Step 3 – Profit!
    </li>
  </ul>

  <p>
    Too good to be true? Well, it's almost that easy. But check the documentation below for some things to keep in mind when you migrate.
  </p>

  <stache-page-anchor>
    Create a SPA
    </stache-page-anchor>
  <p>
  The first step to migrate your Stache 1 site is to follow the <a routerLink="/learn/get-started">Getting Started instructions</a> to set up a new Stache site. For Blackbaud staff, we strongly recommend that you follow the Blackbaud version of the <em>Create a New Stache SPA</em> tutorial.
  </p>
  <h3>
    Considerations
  </h3>

  <p>
    At this stage, we recommend you consider the following items.
  </p>
  <ol>
    <li>
      When you set up your top-level navigation, do you want to improve the order or organization? Now is the time to think about any changes you'd like to make to your site before you copy and paste content.
    </li>
    <li>
      Also, in Stache when you set up your top-level navigation, keep in mind that top-level items with dropdowns are no longer clickable. If your Stache 1 includes top-level items with dropdowns that are clickable, you need to adjust your content and navigation accordingly.
    </li>
    <li>
      <p>
        To help you copy and paste content, after you complete the steps to create the SPA and set it up locally on your computer, copy over any image assets from the old site to the new.
      </p>
      <p>
        Stache 1 image files location:
      </p>
      <ul>
        <li>
          <i class="fa fa-folder"></i> static
        </li>
          <ul>
            <li>
              <i class="fa fa-folder"></i> assets
            </li>
              <ul>
                <li>
                  <i class="fa fa-folder"></i> img
                </li>
              </ul>
          </ul>
      </ul>
      <p>
        Stache image files location:
      </p>
      <ul>
        <li>
          <i class="fa fa-folder"></i> src
        </li>
          <ul>
            <li>
              <i class="fa fa-folder"></i> assets
            </li>
          </ul>
      </ul>
    </li>
  </ol>

  <stache-page-anchor>
    Copy and paste content
  </stache-page-anchor>
  <p>
    The majority of migration tasks involve copy and paste. It's not very glamorous, but it does the job!
  </p>
  <h3>
    Stache 1 YAML front matter
  </h3>
  <p>
    In Stache 1, you could set page layout, page name, and more in the YAML front matter.
  </p>
  <stache-code-block>
    ---
    title: YAML front matter
    description: A very simple way to add structured data to a page.
    ---
  </stache-code-block>
  <p>
    The somewhat equivalent in Stache 2 is the Stache <a routerLink="/components/wrapper">wrapper component</a>.
  </p>
  <p>
    When you copy and paste content to your new site, <strong>DO NOT</strong> copy the YAML front matter. Instead, create a new page (a single index.html file per folder under src > app), insert the Stache wrapper, and then ensure that your copy and paste content lives within the Stache wrapper tags.
  </p>
  <p>
    If you were doing more advanced tasks within the YAML front matter, start a discussion in our <a href="https://blackbaud.slack.com/messages/C1R3XB8GZ">#stache-general</a> Slack channel. We'll work with you on a migration strategy for your specific scenario.
  </p>
  <h3>
    Markdown
  </h3>
  <p>
    If you have Markdown on your Stache 1 site, inside your Stache wrapper tags, we recommend you insert the <a routerLink="/components/markdown">Stache markdown component</a>.
  </p>
  <sky-alert alertType="info">
    When you copy and paste, if you have indentation, additional tabs, or extra spaces, the Stache markdown component may interpret that as a code block. If your page is a giant code block, we recommend you review the indentation, spacing, and tabs for the content you copied over.
  </sky-alert>
  <h3>
    Custom CSS
  </h3>
  <p>If you added custom CSS to your Stache 1 site, review the <a routerLink="/learn/basics">Basics page</a> for how to use custom CSS in Stache 2.</p>

  <h3>
    Panels layout conversion
  </h3>
  <p>
    In Stache 2, the only layout that automatically inserts sibling and children into the navigation is the <a routerLink="/components/layouts">sidebar layout</a>.
  </p>
  <p>The design equivalent in Stache 2 to the <stache-code>layout: layout-panels</stache-code>, is the use of the <stache-code>layout="container"</stache-code> on the Stache wrapper and the use of the <a routerLink="/components/action-buttons">action buttons component</a>.</p>

  <h3>
    Page titles
  </h3>

  <p>In Stache 1, a page often started with a <stache-code>&lt;H1&gt;</stache-code> or <stache-code># Page Title</stache-code>. In Stache 2, we recommend you set that on the <a routerLink="/components/wrapper">Stache wrapper component</a>.</p>

  <h3>
    Images
  </h3>
  <p>
    In Stache 2, you can insert images with HTML. However, to insert an image, we recommend you use Markdown or the Stache <a routerLink="/components/image">image component</a>. This ensures that your images have a responsive container, so that they render well on any device. When you use Markdown to add an image, we automatically map that to the Stache image component.
  </p>

  <stache-page-anchor>
    Things to convert
  </stache-page-anchor>

  <p>
    While most HTML and Markdown copies as is to the new site, you will want to scan your content for specific references to Bootstrap, SKY UX 1, or custom JavaScript.
  </p>
  <p>
    For example, if you had a <stache-code escapeCharacters="true">&lt;bb-alert bb-alert-type="info"&gt;</stache-code> in Stache 1, when you copy and paste, that will cause an error and your page won't load. In SKY UX 2, <a href="https://developer.blackbaud.com/skyux/components/alert">alerts <i class="fa fa-external-link" aria-hidden="true"></i></a> are referenced as <stache-code escapeCharacters="true">&lt;sky-alert alertType="info"&gt;</stache-code>.
  </p>
  <p>
    Most features in Stache 1 are available in Stache 2, just with a different implementation that's compatible with Angular. We recommend you familiarize yourself with the options on the <a routerLink="/components">Content page</a>. The items (components, utilities, directives, etc) on this page enable you to enhance your content in a similar way as you did on Stache 1.
  </p>

  <h3>
    Swagger
  </h3>

  <p>
    In Stache 1, we had a feature that embedded your Swagger output onto the page. However, after investigating the options for Stache 2, we realized that the output generated by Swagger UI was a better experience. We now recommend you link directly to that from your navigation or a page.
  </p>

</stache>
