<stache
  pageTitle="Code block"
  navTitle="Code block"
  showTableOfContents="true">


  <stache-page-summary>
    <p>
      <a href="https://github.com/blackbaud/skyux-lib-code-block"><img src="https://img.shields.io/badge/SKY%20UX-component-brightgreen.svg"></a>
    </p>
    <sky-alert alertType="warning">
      The <sky-code>stache-code-block</sky-code> component is <strong>deprecated</strong> in Stache version 2.15.0 and higher, and is unavailable starting in Stache version 3.0.0. For Stache SPAs, <a stacheRouterLink="." fragment="stache-spas">learn more below</a> about the change.
    </sky-alert>
    <p>
      The code block component enables you to format a block of text as a code snippet with syntax highlighting. To create a code snippet, wrap <sky-code>sky-code-block</sky-code> tags around the code block. The code block also has a header that displays a copy button and, if defined, the language type. To format shorter code snippets within larger blocks of text, we recommend you use the <a routerLink="/components/code">code component</a> instead.
    </p>

    <p>
      If a code block has text within <sky-code><</sky-code> and <sky-code>></sky-code> characters, then the component automatically appends a closing tag unless the code snippet is valid HTML. To prevent this, you must use "&#38;lt;" to escape <sky-code><</sky-code> and "&#38;gt;" to escape <sky-code>></sky-code>. For example, you must escape the <sky-code><</sky-code> and <sky-code>></sky-code> characters in the code snippet <sky-code escapeCharacters="true">public Task&lt;Generic&gt; MethodName()</sky-code> or else the component automatically appends <sky-code>&lt;/Generic&gt;</sky-code> to the end: <sky-code escapeCharacters="true">public Task<Generic> MethodName()</sky-code>.
    </p>
  </stache-page-summary>

  <h3>
    Code block properties
  </h3>

  <ul>
    <li>
      <sky-code>code</sky-code> — <i>(Optional)</i> Passes a code sample into the component. This property binds data, so you can use brackets to evaluate the template expression: <sky-code>[code]</sky-code>. Without the brackets, Angular treats the value as a string and initializes the target property with the string value instead of evaluating the data value.
    </li>
    <li>
      <sky-code>hideCopyToClipboard</sky-code> — <i>(Optional)</i> Indicates whether to hide the copy-to-clipboard button in the code-block header. The default is false.
    </li>
    <li>
      <sky-code>languageType</sky-code> — <i>(Optional)</i> Indicates the language of the code sample. The language type is used to highlight the syntax in your code sample and appears in the header. The default language is <sky-code>markup</sky-code>.
    </li>
    <li>
      <sky-code>hideHeader</sky-code> — <i>(Optional)</i> Indicates whether to hide the header portion of the code block. If the languageType is not declared and hideCopyToClipboard is set to true, the header is hidden. The default is false.
    </li>
  </ul>

  <h3>
    Supported languages
  </h3>
  <p>
    Using the list below, see if your code snippet language is supported. The languages supported appear in pairs. The first part lists the language and the second part displays the text you use for the <sky-code>languageType</sky-code> property. For example, if your code block is a JavaScript code snippet, use <sky-code>languageType="javascript"</sky-code>.
  </p>

  <language-type-list>
  </language-type-list>

<stache-page-anchor>
  Stache SPAs
</stache-page-anchor>
  <p>To enable more flexibility with the code block component, we contributed it to SKY UX as a standalone module. This requires only a few small changes for Stache SPAs.</p>
  <ul>
    <li>
      Update your version of Stache to 3.0.0 or higher. Learn how with the <a stacheRouterLink="/learn/update-stache">Update Stache</a> documentation.
    </li>
  </ul>

<stache-page-anchor>
  Non-Stache SPAs
</stache-page-anchor>
  <p>
    If your SPA uses Stache version 2.15.0 - 2.18.0, this module is installed and added for you. However, non-Stache users can use this module without Stache. Learn how to set up this module as a dependency in your SKY UX SPA project.
  </p>
  <ol>
    <li>
      <p>
        Install the package and plugin as part of your SPAs dependencies.
      </p>
      <sky-code-block>
        npm install @blackbaud/skyux-lib-code-block --save
      </sky-code-block>

      <sky-code-block>
        npm install @blackbaud/skyux-builder-plugin-code-block --save
      </sky-code-block>
    </li>
    <li>
      <p>
        Add the module to your <strong>app-extras.module.ts</strong> file.
      </p>
      <sky-code-block hideCopyToClipboard="true">
          import { SkyCodeBlockModule } from '@blackbaud/skyux-lib-code-block';

          @NgModule({
            exports: [
              SkyCodeBlockModule
            ]
          })
          export class AppExtrasModule { }
      </sky-code-block>
    </li>
    <li>
      <p>
        Add the plugin to your <strong>skyuxconfig.json</strong> file.
      </p>
      <sky-alert
        alertType="warning">
        in order to use the code block with markdown, inside a stache include, or make use of global/json data, the plugin must to be loaded <strong>after</strong> the <sky-code>skyux-builder-plugin-stache</sky-code> plugin.
      </sky-alert>
      <sky-code-block>
        {
          "name": "stache",
          "mode": "easy",
          "compileMode": "aot",
          "plugins": [
            "@blackbaud/skyux-builder-plugin-code-block"
          ],
        }
      </sky-code-block>
    </li>
  </ol>

  <stache-page-anchor>
    Demo
  </stache-page-anchor>

  <div class="stache-demo-page-result">
    <sky-code-block
      languageType="javascript">
      $(document).ready(() => {
        console.log('jQuery is ready!');
      });
    </sky-code-block>

    <sky-code-block
      languageType="JSON"
      hideHeader="true">
      Code block with the header hidden.
      {
        "demo": "demo content"
      }
    </sky-code-block>
  </div>

  <stache-page-anchor>
    Code
  </stache-page-anchor>

  <div class="stache-demo-code">
    <sky-tabset>
      <sky-tab
        tabHeading="sample">
        <sky-code-block
          languageType="javascript">
          <sky-code-block
            languageType="javascript">
            $(document).ready(() => {
              console.log('jQuery is ready!');
            });
          </sky-code-block>

          <sky-code-block
            languageType="json"
            hideHeader="true">
            Code block with the header hidden.
            {
              "demo": "demo content"
            }
          </sky-code-block>
        </sky-code-block>
      </sky-tab>
    </sky-tabset>
  </div>
</stache>
