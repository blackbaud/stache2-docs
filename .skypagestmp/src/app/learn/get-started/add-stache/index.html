<stache navTitle="Add Stache" navOrder="4" layout="container" #stache="">
  <stache-tutorial>
    <stache-tutorial-heading>
      Add {{ stache.jsonData?.global.productNameShort }} to a SKY UX Application
    </stache-tutorial-heading>
    <stache-tutorial-summary>
      This tutorial provides step-by-step instructions to add {{ stache.jsonData?.global.productNameShort }} to an existing SPA.
    </stache-tutorial-summary>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Install dependencies
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <stache-code-block>
          npm install --save @blackbaud/stache
        </stache-code-block>
        <p>
          If you are a Blackbaud staff member and plan to use the Blackbaud Identity Service authentication, install the email whitelist plugin.
        </p>
        <stache-code-block>
          npm install --save @blackbaud/skyux-builder-plugin-auth-email-whitelist
        </stache-code-block>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Add the {{ stache.jsonData?.global.productNameShort }} module to your application
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
          Open the <stache-code>app-extras.module.ts</stache-code> file in your project. Import and export <stache-code>StacheModule</stache-code> to make {{ stache.jsonData?.global.productNameShort }} components available throughout the project.
        </p>
        <stache-include fileName="app-extras-sample.html"><stache-code-block languageType="typescript">
  import {{ '{' }} NgModule } from '@angular/core';
  import {{ '{' }} StacheModule } from '@blackbaud/stache';

  // Specify entry components, module-level providers, etc. here.
  @NgModule({{ '{' }}
    imports: [
      StacheModule
    ],
    exports: [
      StacheModule
    ],
    providers: [],
    entryComponents:[]
  })
  export class AppExtrasModule {{ '{' }} }
</stache-code-block>
</stache-include>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Update the Sky dependencies
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
          Open the <stache-code>package.json</stache-code> file in your project. Update <stache-code>@blackbaud/skyux</stache-code> under <stache-code>dependencies</stache-code> and <stache-code>@blackbaud/skyux-builder</stache-code> under the <stache-code>devDependencies</stache-code> property to install the latest versions of each.
        </p>

        <sky-alert alertType="info">
          Your updated <stache-code>package.json</stache-code> file with all {{ stache.jsonData?.global.productNameShort }} and Sky dependencies should look as follows.
        </sky-alert>
        <stache-include fileName="package-json-sample.html"><stache-code-block languageType="json">
  "dependencies": {{ '{' }}
    "@blackbaud/skyux": "^2.11.0",
    "@blackbaud/skyux-builder-plugin-auth-email-whitelist": "~1.0.0",
    "@blackbaud/stache": "^2.6.0"
  },
  "devDependencies": {{ '{' }}
    "@blackbaud/skyux-builder": "^1.14.0"
  }
</stache-code-block>
</stache-include>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Declare plugins
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
          Open the <stache-code>skyuxconfig.json</stache-code> file in your project. Add the required {{ stache.jsonData?.global.productNameShort }} plugins to the <stache-code>plugins</stache-code> array.
        </p>
        <stache-include fileName="skyux-config-sample.html"><p>
  Setup without authentication:
</p>
<stache-code-block languageType="json">
  {{ '{' }}
    "mode": "easy",
    "compileMode": "aot",
    "auth": false,
    "plugins": [
      "@blackbaud/skyux-builder-plugin-stache"
    ],
    "app": {{ '{' }}
      "title": "your_project_title"
    },
    "appSettings": {{ '{' }}
      "stache": {{ '{' }}
      }
    }
  }
</stache-code-block>
<p>
  Blackbaud setup with authentication:
</p>
<stache-code-block languageType="json">
  {{ '{' }}
    "mode": "easy",
    "compileMode": "aot",
    "auth": true,
    "plugins": [
      "@blackbaud/skyux-builder-plugin-stache",
      "@blackbaud/skyux-builder-plugin-auth-email-whitelist"
    ],
    "app": {{ '{' }}
      "title": "your_project_title"
    },
    "appSettings": {{ '{' }}
      "stache": {{ '{' }}
      }
    }
  }
</stache-code-block>

</stache-include>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Create Stache specific folders
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
            Stache requires adding a few specific folders to your projects structure. Open the <stache-code>src</stache-code> folder in your project and create a <stache-code>stache/</stache-code> folder. Inside the stache folder, create two sub folders <stache-code>includes</stache-code> and <stache-code>data</stache-code>. The resulting project folder structure should resemble the following:
        </p>
        <stache-include fileName="folder-structure-example.html"><ul>
  <li><i class="fa fa-folder"></i> src</li>
    <ul>
    <li><i class="fa fa-folder"></i> app</li>
    <ul>
      <li><i class="fa fa-folder"></i> content folders</li>
      <li><i class="fa fa-file"></i> app.scss</li>
      <li><i class="fa fa-folder"></i> shared</li>
      <ul><i class="fa fa-folder"></i> app-nav
      </ul>
    </ul>
    <li><i class="fa fa-folder"></i> assets
      <ul>
        <li>
            <i class="fa fa-folder"></i> locales
          <ul>
            <li>
              <i class="fa fa-file"></i> resources_en_US.json
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><i class="fa fa-folder"></i> stache</li>
    <ul>
      <li><i class="fa fa-folder"></i> data</li>
      <ul><li><i class="fa fa-file"></i> global.json</li></ul>
      <li><i class="fa fa-folder"></i> includes</li>
    </ul>
  </ul>
</ul>
</stache-include>
      </stache-tutorial-step-body>
    </stache-tutorial-step>
  </stache-tutorial>
</stache>
