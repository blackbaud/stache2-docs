<stache navTitle="New Stache" navOrder="1" layout="container" #stache="">

  <stache-tutorial>
    <stache-tutorial-heading>
        Create a {{ stache.jsonData?.global.productNameLong }} Documentation Site
    </stache-tutorial-heading>
    <stache-tutorial-summary>
      <p>
        This tutorial provides step-by-step instructions on how to create a new SKY UX single-page application (SPA) with the {{ stache.jsonData?.global.productNameLong }} component library.
      </p>

      <p>
        <mark>Blackbaud staff</mark>, follow the Blackbaud version of the <a href="https://docs.blackbaud.com/stache-internal/new-bb-stache">Create a New Stache SPA <i class="fa fa-lock" aria-hidden="true" title="Blackbaud staff only"></i></a> tutorial.
      </p>
    </stache-tutorial-summary>

    <sky-alert alertType="info">
        Before you begin this tutorial, you need to complete the <a routerLink="/learn/get-started" fragment="install-prerequisites">prerequisites</a>.
    </sky-alert>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Set up your new {{ stache.jsonData?.global.productNameShort }} site
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>

        <ol>
          <li>
            <p>
              Navigate to the folder where you want to save your new repo. Note the folder location.
            </p>
          </li>
          <li>
            <p>
              Open command prompt (Windows) or Terminal (Mac).
            </p>
            <sky-alert alertType="danger">
              For Windows users, do not use Git Bash. There's a known timeout issue when you run <stache-code>skyux new</stache-code>. The install may not complete. Use the Windows command prompt instead.
            </sky-alert>
          </li>
          <li>
            <p>From the command line, change the directory to the folder you chose in step 1.</p>
            <p>For example, if you have Windows OS and save all your Git repos to <stache-code>C:\Git\</stache-code>, enter <stache-code>cd C:\Git\</stache-code>. </p>
          </li>
          <li>
            <p>Enter <stache-code>skyux new --template stache</stache-code>. Press <kbd>Enter</kbd> (Windows) or <kbd>return</kbd> (Mac).</p>
          </li>
          <li>
            <p>
              In the first prompt, enter the name of your site in lowercase and no spaces. You can separate words with a <stache-code>-</stache-code>. For example: <stache-code>cool-mustaches</stache-code>. The SKY UX CLI creates a folder with this name and prefixes it with "skyux-spa."
            </p>
          </li>
          <li>
            <p>
              In the second prompt, enter the location of your repo.
            </p>
          </li>
          <p>
            Your repo is now being cloned and set up locally. This will take a few minutes.
          </p>
        </ol>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Verify authentication for your application
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
          After you create your application and deploy to your hosted location, it is potentially available on the public Internet. Be careful to not allow anonymous users access to protected assets, such as user data or internal systems.
        </p>
        <sky-alert alertType="warning">
          If you are a Blackbaud staff member who did not follow the <a href="https://docs.blackbaud.com/stache-internal/new-bb-stache">directions for internal Stache SPAs <i class="fa fa-lock" aria-hidden="true" title="Blackbaud staff only"></i></a>, we recommend you turn on authentication.
        </sky-alert>
        <ol>
          <li>
            <p>
              Navigate to the repo on your local machine.
            </p>
          </li>
          <li>
            <p>
              Open <stache-code>skyuxconfig.json</stache-code> file in your preferred text editor.
            </p>
          </li>
          <li>
            <p>
              Find <stache-code>"auth": false</stache-code> as seen below and confirm the accuracy of the value.
            </p>
          </li>
        </ol>
        <stache-include fileName="auth-opt-out.html"><stache-code-block languageType="json">
  {{ '{' }}
    "mode": "easy",
    "compileMode": "aot",
    "auth": false,
    "plugins": [
      "@blackbaud/skyux-builder-plugin-stache"
    ],
    "app": {{ '{' }}
      "title": "your_project_title"
    },
    "appSettings": {{ '{' }}
      "stache": {{ '{' }}
      }
    }
  }
</stache-code-block>
<sky-alert alertType="info">
    If your SPA uses the Blackbaud Identity Service, add <stache-code>@blackbaud/skyux-builder-plugin-auth-email-whitelist</stache-code> to the <stache-code>plugins</stache-code> array and set <stache-code>"auth": true</stache-code>.
</sky-alert>
</stache-include>
      </stache-tutorial-step-body>
    </stache-tutorial-step>
    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Serve your {{ stache.jsonData?.global.productNameShort }} application
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
          To serve your site locally, from the command line change the directory into your new Stache site folder. For example <stache-code>cd skyux-spa-cool-mustaches</stache-code>. Then, enter <stache-code>skyux serve</stache-code>. A new browser window opens to your documentation site.
        </p>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Push your initial commit
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
        When you run <stache-code>skyux new --template stache</stache-code> to create your local SPA, the SKY UX CLI creates an <stache-code>initial commit</stache-code> branch and adds a variety of files and folders from the Stache template. These template files implement default settings and general best practices for your site.
        </p>
        <p>Let's walk through how to add, commit, push, and merge this branch to <stache-code>master</stache-code>.</p>
        <ol>
          <li>
            From command prompt or Terminal within your project, enter <stache-code>git add --all</stache-code>.
          </li>
          <li>
            Then, enter <stache-code>git commit -m "initial commit"</stache-code>.
          </li>
          <li>
            Enter <stache-code>git push origin initial-commit</stache-code>.
          </li>
          <li>
            Navigate to your repo.
          </li>
          <li>
            Create a pull request into the <stache-code>master</stache-code> branch. For GitHub repos, you can create the pull request from the Code or Pull Requests tabs.
          </li>
          <li>
            <p>
              To complete the pull request, follow the process for your repo. For GitHub repos, depending on your repo settings, select <strong>Merge pull request</strong> or <strong>Squash and merge</strong>.
            </p>
          </li>
        </ol>
      </stache-tutorial-step-body>
    </stache-tutorial-step>

    <stache-tutorial-step>
      <stache-tutorial-step-heading>
        Next steps
      </stache-tutorial-step-heading>
      <stache-tutorial-step-body>
        <p>
          You are now ready to create stellar technical documentation. To continue the learning, we recommend you review:
        </p>
        <ul>
          <li>
            <p>
              <a routerLink="/learn/basics">{{ stache.jsonData?.global.productNameShort }} basics</a>
            </p>
          </li>
          <li>
            <p>
              <a routerLink="/learn/update-stache">How to update {{ stache.jsonData?.global.productNameShort }}</a>
            </p>
          </li>
          <li>
            <p>
              <a routerLink="/content/">{{ stache.jsonData?.global.productNameShort }} Components</a> â€“ for ways to enhance your documentation beyond basic paragraphs and headers
            </p>
          </li>
          <li>
            <p>
              How to <a href="https://developer.blackbaud.com/skyux/learn/reference/cli-commands/build">build your new {{ stache.jsonData?.global.productNameShort }} SPA <i class="fa fa-external-link" aria-hidden="true"></i></a>
            </p>
          </li>
        </ul>
      </stache-tutorial-step-body>
    </stache-tutorial-step>
  </stache-tutorial>
</stache>
